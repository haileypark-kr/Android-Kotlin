# Activity

- 화면을 구성하는 가장 기본 요소
- 자동으로 layout xml 생성 + manifest에 등록해줌
- 화면 그리는 기능 + 화면에서 발생할 수 있는 일들을 처리하는 기능

## Lifecycle

앱 시작 후 activity의 lifecycle

1. onCreate: 앱 시작 후 최초.
    - 필수적으로 구현해야 함. (activity 생성하면 자동으로 코드가 생성되어 있음)
    - 생명주기에서 단 한 번 발생하며, 다시 돌아올 수 없음
    - 단 한 번만 하면 되는 일들을 구현. 초기 화면 그리기, 데이터 준비
    - 이 상태에 머물 수 없음
2. onStart: activity를 foreground로 보내 상호작용할 수 있도록 준비하는 단계
    - 앱이 사용자 눈에 보일 때 == 백그라운드가 아닐 때 == 사용 중일 때
    - 매우 빠르게 완료되며 이 상태에서 머물 수 없음
    - 무거운 작업을 여기서 하면 안됨.
3. onResume: 앱이 사용자와 상호작용이 가능한 상태. 이 상태에서 머물 수 있음.
    - 특정 이벤트가 발생하여 앱에서 사용자의 포커스가 떠날 때까지 이 상태에 머무르게 됨.
        - 전화가 오거나 기기 화면이 꺼질 때.
        - 화면이 가려지지 않으면 이 상태에 머문다
4. onPause: 사용자가 activity를 떠나는 첫 번째 신호
    - 이 activity가 foreground에 있지 않다는 신호. 사용 중인 앱 목록 볼 때의 상태.
    - 잠시 작업을 중지해야 하는 작업들을 일시 중지해야 한다.
        - 영상 일시중지, GPS 일시중지 등
    - 다시 앱을 키면 onResume으로 돌아감.
    - 여기서 앱을 안키고 다른 앱을 키면 onStop으로 감.
5. onStop: activity가 더 이상 사용자에게 표시가 되지 않는 상태
    - 새로운 activity가 나오는 경우, 화면이 가려지는 경우
    - 사용자에 보이지 않는 동안 리소스 해제해야 함
        - 영상 종료, GPS 종료
    - 마지막으로 해야할 일 수행
        - 사용자가 사용했던 것들은 저장
    - 여기서 다시 activity로 오면 onRestart를 거쳐 onStart로 감
6. onDestroy
    - 액티비티가 소멸되기 전에 호출
        - 기기 회전, 멀티윈도우 모드에서 시스템이 일시적으로 activity를 소멸
    - onStop에서 해제하지 않은 모든 리소스를 해제해야 함

- 사용자가 얼마나 이 액티비티에 머무는지 보려면?
    - onResume ~ onPause

## 특수 activity

- 런처 액티비티, main 액티비티: 앱이 실행될 때 최초로 실행되는 activity

## 안드로이드 OS가 activity를 직접 종료하는 일은 없음

- 앱이 crash가 나지 않는 이상 없음
- 단, 프로세스는 종료 가능. CPU 자원을 너무 많이 차지하면 프로세스가 종료될 수 있지만 앱이 종료되진 않음

## savedInstanceState

- 어떤 상태를 여기에 저장하고 불러와서 쓰는 건데, 쓰기가 까다롭고 활용하는 것도 많지 않음
- 