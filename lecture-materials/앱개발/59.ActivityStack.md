# 액티비티 스택

#### 액티비티 스택이란?

- 예시

```
A (foreground)

---

B (foreground)
A

---

C (foreground)
B 
A
```

- 기본: **LIFO. Last in First out**
- 스택 설정 및 관리 ==> **될 수 있으면 건들지 마라.**
    1. manifest 이용 ==> 이 액티비티는 이 방식으로 켜져야 한다
        1. launch mode 변경
            1. standard: foreground에 똑같은 액티비티 두 개 이상 쌓을 수 있음.
            2. singleTop: foreground에 똑같은 액티비티 두 개 이상 쌓을 수 없음. background에 똑같은 액티비티 여러개 가능
            3. singleTask: singleTask로 설정된 액티비티 하나만 있는 스택(인스턴스)을 새로 만들고, 뒤로가면 그 스택 없애고 이전 스택 꺼냄
            4. singleInstance: singleInstance로 설정된 액티비티 하나만 있는 스택을 새로 만들지만, 그 스택에는 새로운 액티비티를 쌓을 수
               없어서 이전 스택에 쌓음.
    2. intent flag 이용 ==> 특수한 경우에만 stack 변경 필요한 경우.
        1. FLAG_ACTIVITY_NEW_TASK ( == singleTask)
        2. FLAG_ACTIVITY_SINGLE_TOP ( == singleTop)
        3. FLAG_ACTIVITY_CLEAR_TOP: 이 액티비티를 호출하면 스택 다 비워버리겠다
        4. FLAG_ACTIVITY_NO_HISTORY: 호출된 액티비티는 스택에 쌓이지 않는다. (로딩 화면) ==> 뒤로가기 눌러도 안보임
        5. FLAG_ACTIVITY_REORDER_TO_FRONT: 호출된 액티비티가 스택에 존재할 경우 최상위로 올려줌
        6. FLAG_ACTIVITY_NO_ANIMATION: 화면 전환 애니메이션을 생략

#### 종류

Standard

A

B A

C B A

#### IntentFlag 적용

- setFlag: 기존거 삭제하고 적용
- addFlag: 추가