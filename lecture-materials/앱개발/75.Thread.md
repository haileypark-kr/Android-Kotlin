# Thread

- 필요에 따라서 언제든지 새로 생성/삭제될 수 있음
- 서로 독립적으로 존재

#### 안드로이드에서의 Main Thread (== UI Thread)

- 최초로 실행되며 무조건 실행됨
- 두번째 쓰레드는 main thread에 의해 실행됨
- 안드로이드의 main thread는 **화면을 그리는 역할**을 담당.
    - **다른 쓰레드는 화면을 그릴 수 없음.**
    - 이유? 여러 쓰레드가 각각 화면을 그리면, 각 쓰레드가 자신의 작업을 언제 끝낼 지 모르기 때문에 화면이 언제 생성될지 모름.
- 안드로이드에서 main 함수는 어디에 있나?
    - launcher를 설정하면 안드로이드가 알아서 main 설정해줌.
- UI 관련 작업을 메인 쓰레드가 아닌 쓰레드에서 하려고 하면 해당 작업 메인 쓰레드의 queue에 들어감.
    - 따라서 에러가 안날 수도 있으나, 이렇게 하면 안됨.
    - thread 내에서 runOnUiThread 키워드 안에 UI 작업을 넣어줘야 함.
- 보통 다른 쓰레드 생성은 네트워크 쪽에서 하는 거 말곤 잘 안함.

```kotlin

Thread {
    val currentThread = Thread.currentThread()
    Log.d(TAG, "$currentThread")

    val tv1 = findViewById<TextView>(R.id.tv1)

    // tv1.text = "hihi" // 에러가 나야할 것 같은데 안남. 왜?
    // ==> UI 관련 작업을 메인 쓰레드가 아닌 쓰레드에서 하려고 하면 해당 작업 메인 쓰레드의 queue에 들어감.
    // 따라서 에러가 안날 수도 있음

    runOnUiThread {
        tv1.text = "hihi"
    }

}.start()
```